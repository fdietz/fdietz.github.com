<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="author" content="Frederik Dietz" />
    <meta keywords="fdietz, ruby, ruby on rails, javascript, react, vue, vuejs, angular.js, angularjs">
    <meta name="description" content="fdietz.github.io">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Day 1 - How to build your own team chat in five days</title>

    <link href="http://feeds.feedburner.com/fdietz" rel="alternate" title="Frederik Dietz" type="application/atom+xml" />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/assets/heki.min-73e17f4d636ce3e5f25cd675dfd20299fef163427edf55d2a4b319062426cd5e.css">
    <link rel="stylesheet" type="text/css" href="/assets/application-14455bbcd6e45416b8f8f887b2ace6000f8857969f5cee0171c326b8893a63f3.css">
  </head>
  <body>
    <div class="fixed">
      <nav class="top-bar">
        <a href="/" class="title">
          <img alt="profile" class="avatar" src="/assets/profile_2018_small-872b831a6df4d9dbedeb190136fbdd9da691aff3ae70a6a7c9575b404d82d6de.jpg">
        </a>
        <ul class="menu">
          <li><a href="/archive.html">archive</a></li>
          <li><a href="/projects.html">projects</a></li>
          <li><a href="/books.html">books</a></li>
          <li><a href="/about.html">about</a></li>
        </ul>
      </nav>
    </div>

    <div class="main-content">
  <div class="post">
    <h2 class="post-title">Day 1 - How to build your own team chat in five days</h2>
    <h3 class="subheader published">Published 13 Apr 2015</h3>
    <p>Hi and welcome to my little experiment! I’d like to built my own team chat in five days and invite you to join me along the way.</p>

<p>You probably know <a href="https://slack.com/">Slack</a>, <a href="https://www.hipchat.com/">Hipchat</a>, <a href="https://campfirenow.com/">Campfire</a> and the like. All these are without a doubt excellent services but they are not as open as I’d like them to be. This starts with the fact that there are all data silos and use proprietary protocols and obviously the source code is not open to contribution.</p>

<p>In the next 5 days I’d like to show you how to build your own chat service and will give you a basis you can work with to add your own unique ideas. So, the emphasize here will be learning how to build your own system in comparison to all these hipster startups out there who focus on saving the world ;-)</p>

<div class="centered-image full-size">
  <img src="/images/DSCF2636.JPG" />
  <p>Obligatory hipster workspace pic</p>
</div>

<p>Since I haven’t really done any upfront planing or detailed product definition we both won’t really know how this is going to work out or how the final product is going to look like. But, I promise this will not be just another polished blog serious about how to use Socket.IO to implement a chat room :) Instead I’m going to write my progress in this blog on a daily basis and you can join me along for the ride. It’ll be hopefully much more personal and give you more insights how I approach such a task.</p>

<p>I will focus much more on the design and implementation challenges on the frontend instead of the backend. So, this will be especially interesting for AngularJS developers who want to learn how to structure more complex projects. For some more AngularJS background knowledge I recommend <a href="http://fdietz.github.io/recipes-with-angular-js/">Recipes with AngularJS</a> from your truly! Since I’d like to challenge myself, I’m going to use ES6 which is currently not really well documented. But, it is certainly the future of Javascript development and I’m eager to get to know it better in these upcoming days.</p>

<p>As a prerequisite I assume you have basic knowledge of HTML, CSS, Javascript and AngularJS - bonus points for NodeJS and things like <a href="http://gulpjs.com/">gulp</a>.</p>

<p>So, take a deep breath and a cup of tea and let’s get started!</p>

<hr />

<p>Usually when I start working on a “new” idea, I first search on Google what’s out there already. Resources as for example <a href="https://dribbble.com/search?q=UI">dribbble</a> or <a href="https://www.behance.net/search?field=51">behance</a> are a great source of inspiration for me - especially since I’m not a designer! So without further gequassel I proudly present you “chitchat”.</p>

<div class="centered-image shadow">
  <img src="/images/chitchat_screen_1.png" />
  <p>HTML mockup of chitchat</p>
</div>

<p>I know - it’s not pixel perfect. But, it’s a first iteration done in HTML, SCSS and is therefore a nice basis for adding interaction using AngularJS later on.</p>

<p>You can already see where this is heading from the mockup. The sidebar shows some public channels and some private one-to-one conversations. So, we will definitely need some user management and a way to join a public channel. The little red badge shows two recent messages and I should probably come up with a distinction for important messages as for example a person being mentioned vs an ongoing conversation in a public channel.</p>

<p>Then there’s the main view showing the ongoing conversation and of course it would be awesome if we can get this to work real time using a server push mechanism. I’m not sure yet if adding support for file sharing should be part of this five days sprint.</p>

<p>In the right hand corner there’s a search field, but we’ll have to see if there’s enough time for that at the end of the week.</p>

<hr />

<p>You can find the complete sourcecode on the accompanying <a href="https://github.com/fdietz/how_to_build_your_own_team_chat_in_five_days/tree/master/day_1">Github repo</a>. You can either download the repository as a zip file or use <a href="http://git-scm.com/">git</a> to clone the repository.</p>

<p>Let’s have a look at the content using the <a href="http://mama.indstate.edu/users/ice/tree/">tree</a> command:</p>

<div>
  <pre data-line=""><code class="language-javascript">└── day_1
    ├── fonts
    ├── images
    ├── styles
    ├── gulpfile.js
    ├── index.html
    ├── package.json
    └── README.md</code></pre>
</div>

<p>I’ve started with a simple <code>index.html</code> and created directories for fonts, images and css files. The <code>package.json</code> and <code>gulpfile.js</code> are used for my CSS workflow. I’m a fan of <a href="http://sass-lang.com/">Sass</a> and the <a href="https://smacss.com/">SMACSS style guide</a>, hence the directory structure:</p>

<div>
  <pre data-line=""><code class="language-javascript">└── styles
    ├── application.css
    ├── application.scss
    ├── base
    │   ├── _fonts.scss
    │   ├── _globals.scss
    │   ├── _normalize.scss
    │   └── _variables.scss
    ├── layout
    │   └── _scaffold.scss
    ├── modules
    │   ├── _badge.scss
    │   ├── _input.scss
    │   ├── _main_header.scss
    │   ├── _message_form.scss
    │   ├── _message_list.scss
    │   └── _sidebar.scss
    └── pages</code></pre>
</div>

<p>I’ve used a gulp task to compile my <code>scss</code> files to <code>css</code> for me.</p>

<div>
  <pre data-line=""><code class="language-javascript">var gulp         = require(&#39;gulp&#39;);
var sass         = require(&#39;gulp-sass&#39;);
var sourcemaps   = require(&#39;gulp-sourcemaps&#39;);
var autoprefixer = require(&#39;gulp-autoprefixer&#39;);

gulp.task(&#39;styles&#39;, function() {
  gulp.src(&#39;styles/*.scss&#39;)
    .pipe(sourcemaps.init())
      .pipe(sass({ style: &#39;expanded&#39; }))
      .pipe(autoprefixer(&#39;last 2 version&#39;))
    .pipe(sourcemaps.write())
    .pipe(gulp.dest(&#39;styles&#39;))
});

gulp.task(&#39;watch&#39;, function(){
  gulp.watch(&#39;./styles/**/*.scss&#39;, [&#39;styles&#39;]);
});

gulp.task(&#39;build&#39;, [&#39;styles&#39;]);

gulp.task(&#39;default&#39;, [&#39;build&#39;, &#39;watch&#39;]);</code></pre>
</div>

<p>You can run it by executing <code>gulp</code> on the commandline. This will trigger the <code>default</code> task which will in turn call the <code>build</code> task. A file watcher is used to rebuild the CSS on file changes using the <code>watch</code> task. The output will be place in <code>styles/application.css</code>.</p>

<hr />

<p>You can find the complete sourcecode on the accompanying <a href="https://github.com/fdietz/how_to_build_your_own_team_chat_in_five_days/tree/master">Github repo</a>.</p>

<hr />

<p>Okidoki. This is it for day 1 - hope you liked it! Tomorrow we will look into using AngularJS to structure our team chat and get some initial interaction going. See you tomorrow!</p>

<hr />

<p>This is part 1 of an ongoing series of blog posts. Continue reading <a href="/2015/04/14/day-2-how-to-build-your-own-team-chat-in-five-days.html">part 2</a>.</p>

<ul>
  <li><a href="/2015/04/13/day-1-how-to-build-your-own-team-chat-in-five-days.html">Day 1 - How to build your own team chat in five days</a></li>
  <li><a href="/2015/04/14/day-2-how-to-build-your-own-team-chat-in-five-days-es6-modules-angularjs-systemjs-and-jspm.html">Day 2 - ES6 Modules, AngularJS, SystemJS and JSPM</a></li>
  <li><a href="/2015/04/15/day-3-how-to-build-your-own-team-chat-in-five-days-expressjs-socket-io-and-angularjs.html">Day 3 - ExpressJS, Socket.io and AngularJS</a></li>
  <li><a href="/2015/04/16/day-4-how-to-build-your-own-team-chat-in-five-days-expressjs-socket-io-and-angularjs-component-based-design-patterns.html">Day 4 - ExpressJS, Socket.io and AngularJS component-based design patterns</a></li>
  <li><a href="/2015/04/17/day-5-how-to-build-your-own-team-chat-in-five-days-angular-filters-and-directives.html">Day 5 - AngularJS Filters and Directives</a></li>
</ul>

  </div>

  <ul class="share-menu">
    <li>
      <a href="https://twitter.com/intent/tweet/?text=Checkout+this+article%3A+&url=http://127.0.0.1%2F2015%2F04%2F13%2Fday-1-how-to-build-your-own-team-chat-in-five-days.html&via=fdietz" target="_blank">
        <svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" class="svg-icon svg-icon-twitter">
          <path class="svg-icon-path" d="M10.8,3.5c0,0.1,0,0.2,0,0.3c0,3.3-2.5,7-7,7c-1.4,0-2.7-0.3-3.8-1c0.2,0,0.4,0,0.6,0c1.1,0,2.2-0.5,3.1-1.2 c-1.1,0-2-0.7-2.3-1.7c0.2,0,0.3,0,0.5,0s0.4,0,0.7-0.1c-1.1-0.2-2-1.2-2-2.4l0,0c0.3,0.2,0.7,0.3,1.1,0.3C1,4.3,0.6,3.5,0.6,2.7 c0-0.5,0.1-0.8,0.3-1.2c1.2,1.6,3,2.5,5,2.6c0-0.2-0.1-0.4-0.1-0.6c0-1.3,1.1-2.4,2.5-2.4c0.7,0,1.4,0.3,1.8,0.8 c0.6-0.1,1.1-0.3,1.6-0.6c-0.2,0.6-0.6,1.1-1.1,1.4c0.5-0.1,1-0.2,1.4-0.4C11.7,2.8,11.2,3.2,10.8,3.5z"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1%2F2015%2F04%2F13%2Fday-1-how-to-build-your-own-team-chat-in-five-days.html" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
        <svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" class="svg-icon svg-icon-facebook">
          <path class="svg-icon-path" d="M9.1,0.1V2H8C7.6,2,7.3,2.1,7.1,2.3C7,2.4,6.9,2.7,6.9,3v1.4H9L8.8,6.5H6.9V12H4.7V6.5H2.9V4.4h1.8V2.8 c0-0.9,0.3-1.6,0.7-2.1C6,0.2,6.6,0,7.5,0C8.2,0,8.7,0,9.1,0.1z"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://127.0.0.1%2F2015%2F04%2F13%2Fday-1-how-to-build-your-own-team-chat-in-five-days.html" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
        <svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" class="svg-icon svg-icon-google">
          <path class="svg-icon-path" d="M5.4,5.7c0,0.2,0.1,0.3,0.2,0.5c0.2,0.2,0.3,0.3,0.6,0.5s0.4,0.3,0.7,0.5C7,7.5,7.2,7.7,7.4,8 c0.2,0.3,0.2,0.6,0.2,1c0,0.4-0.1,0.8-0.3,1.2c-0.3,0.6-0.9,1-1.5,1.3S4.3,12,3.6,12c-0.6,0-1.2-0.1-1.8-0.3s-1-0.5-1.2-1 c-0.2-0.3-0.3-0.6-0.3-0.9c0-0.4,0.1-0.7,0.3-1.1c0.2-0.3,0.5-0.6,0.9-0.8c0.6-0.4,1.6-0.6,2.9-0.7C4.2,6.9,4.1,6.8,4,6.6 C4,6.4,3.9,6.3,3.9,6.1c0-0.2,0.1-0.4,0.2-0.6c-0.2,0-0.4,0-0.5,0c-0.7,0-1.3-0.2-1.8-0.7C1.3,4.3,1.1,3.7,1.1,3 c0-0.4,0.1-0.8,0.3-1.1S1.7,1.2,2,0.9c0.4-0.3,0.8-0.6,1.3-0.7C3.9,0.1,4.4,0,4.9,0h3l-1,0.6H6c0.4,0.3,0.6,0.6,0.8,1 s0.3,0.7,0.3,1.2c0,0.3-0.1,0.7-0.2,0.9C6.8,4,6.6,4.2,6.5,4.4C6.3,4.5,6.1,4.7,6,4.8C5.8,5,5.7,5.1,5.5,5.3 C5.4,5.4,5.4,5.6,5.4,5.7z M4.3,11.3c0.3,0,0.5,0,0.8-0.1c0.3-0.1,0.5-0.2,0.7-0.3c0.2-0.1,0.4-0.3,0.5-0.5c0.1-0.2,0.2-0.5,0.2-0.8 c0-0.1,0-0.2-0.1-0.4S6.5,9.1,6.4,9c0-0.1-0.1-0.2-0.2-0.3C6.1,8.6,6.1,8.5,6,8.4c0-0.1-0.1-0.1-0.3-0.2C5.6,8.1,5.5,8,5.5,8 c0,0-0.1-0.1-0.3-0.2C5,7.7,4.9,7.6,4.9,7.6c-0.1,0-0.2,0-0.3,0c-0.3,0-0.5,0-0.8,0.1S3.3,7.7,3,7.8C2.8,7.9,2.5,8,2.3,8.1 C2.1,8.3,2,8.4,1.8,8.7C1.7,8.9,1.6,9.1,1.6,9.4c0,0.3,0.1,0.6,0.3,0.9c0.2,0.3,0.4,0.5,0.7,0.6c0.3,0.1,0.6,0.2,0.9,0.3 S4,11.3,4.3,11.3z M4.3,5c0.2,0,0.4,0,0.6-0.1c0.2-0.1,0.3-0.2,0.5-0.3C5.6,4.3,5.7,4,5.7,3.5c0-0.3,0-0.6-0.1-0.9 C5.5,2.2,5.4,1.9,5.3,1.6C5.1,1.3,4.9,1.1,4.7,0.9S4.1,0.6,3.8,0.6c-0.2,0-0.4,0-0.6,0.1C3,0.8,2.9,1,2.7,1.1 C2.5,1.4,2.4,1.8,2.4,2.3c0,0.2,0,0.5,0.1,0.7c0,0.2,0.1,0.5,0.2,0.7C2.8,4,2.9,4.2,3.1,4.4c0.1,0.2,0.3,0.4,0.5,0.5 C3.8,5,4.1,5,4.3,5z M10.2,5h1.5v0.8h-1.5v1.6H9.4V5.8H7.9V5h1.5V3.5h0.8V5z"></path>
        </svg>
      </a>
    </li>
  </ul>
</div>

<!--
<div class="related-posts">
  <h3>Related Posts</h3>
  <ul class="posts">
    
      <li>
        <a href="/2018/09/13/vue-js-component-composition-with-scoped-slots.html">Vue.js Component Composition with Scoped Slots</a>
        <span class="date">13 Sep 2018</span>
      </li>
    
      <li>
        <a href="/2018/09/05/vue-js-component-composition-with-slots.html">Vue.js Component Composition with Slots</a>
        <span class="date">05 Sep 2018</span>
      </li>
    
      <li>
        <a href="/2018/08/23/introduction-to-vue-js-components.html">Introduction to Components with Vue.js</a>
        <span class="date">23 Aug 2018</span>
      </li>
    
  </ul>
</div>
-->


    <footer>
      Copyright 2018 Frederik Dietz
      |
      <a href="http://feeds.feedburner.com/fdietz"> RSS </a>
      |
      <a href="http://twitter.com/fdietz/">@fdietz</a>
    </footer>

    <script src="/assets/application-d4378cd6e29b71700aea7f8091bc6235159c3b312fcb6b20a9e872e40b6c7521.js" type="text/javascript"></script>

    <!-- Google Analytics -->
    <script>
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script>
    var pageTracker = _gat._getTracker("UA-24857075-1");
    pageTracker._trackPageview();
    </script>
    <!-- Google Analytics end -->

    <!--[if lt IE 7 ]>
    	<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.2/CFInstall.min.js"></script>
    	<script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script>
    <![endif]-->

  </body>
</html>
