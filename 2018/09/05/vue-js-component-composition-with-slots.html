<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="author" content="Frederik Dietz" />
    <meta keywords="fdietz, ruby, ruby on rails, javascript, react, vue, vuejs, angular.js, angularjs">
    <meta name="description" content="fdietz.github.io">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Vue.js Component Composition with Slots</title>

    <link href="http://feeds.feedburner.com/fdietz" rel="alternate" title="Frederik Dietz" type="application/atom+xml" />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/assets/heki.min-73e17f4d636ce3e5f25cd675dfd20299fef163427edf55d2a4b319062426cd5e.css">
    <link rel="stylesheet" type="text/css" href="/assets/application-14455bbcd6e45416b8f8f887b2ace6000f8857969f5cee0171c326b8893a63f3.css">
  </head>
  <body>
    <div class="fixed">
      <nav class="top-bar">
        <a href="/" class="title">
          <img alt="profile" class="avatar" src="/assets/profile_2018_small-872b831a6df4d9dbedeb190136fbdd9da691aff3ae70a6a7c9575b404d82d6de.jpg">
        </a>
        <ul class="menu">
          <li><a href="/archive.html">archive</a></li>
          <li><a href="/projects.html">projects</a></li>
          <li><a href="/books.html">books</a></li>
          <li><a href="/about.html">about</a></li>
        </ul>
      </nav>
    </div>

    <div class="main-content">
  <div class="post">
    <h2 class="post-title">Vue.js Component Composition with Slots</h2>
    <h3 class="subheader published">Published 05 Sep 2018</h3>
    <p>In the <a href="/2018/08/23/introduction-to-vue-js-components.html">previous post</a> we introduced the Vue.js component model and saw how to pass data to 
child components via <code>props</code> and how components can emit events up their parents.</p>

<p>In this chapter we focus on slots which give your components even more flexibility by injecting content into child components.</p>

<p>For this chapter we use a modal dialog as an example.</p>

<figure>
  <img width="50%" alt="Modal Dialog with close button" src="/assets/modal-11bb5aed7e98c91617f0b4e758ca0cdc22115a9fa5280a78f397aa0059abf2ee.png" />
  <figcaption>Modal Dialog with close button</figcaption>
</figure>

<h2 id="slots-as-content-placeholders">Slots as Content Placeholders</h2>

<p>We start with the smallest possible modal dialog implementation where the rendering of the modal is done using a <code>v-if</code> directive with the <code>showModal</code> variable.</p>

<div>
  <pre data-line=""><code class="language-javascript">new Vue({
  el: &quot;#demo&quot;,
  data: {
    showModal: false
  }
});</code></pre>
</div>

<p>The <code>showModal</code> value is set to <code>true</code> on button click:</p>

<div>
  <pre data-line=""><code class="language-markup">&lt;div id=&quot;demo&quot;&gt;
  &lt;modal v-if=&quot;showModal&quot; @close=&quot;showModal = false&quot;&gt;
    &lt;h2&gt;Modal Header&lt;/h2&gt;
    &lt;p&gt;This is a paragraph inside the modal.&lt;/p&gt;
  &lt;/modal&gt;
  &lt;button @click=&quot;showModal = true&quot;&gt;Show Modal&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>

<p>Our <code>modal</code> component children consist of some example HTML heading and paragraph we’d like to show inside the modal dialog.</p>

<p>Additionally, we listen to the <code>@close</code> event in case the user closes the modal dialog by pressing the close button.</p>

<p>Let’s have a look at the component:</p>

<div>
  <pre data-line=""><code class="language-markup">&lt;template id=&quot;template-modal&quot;&gt;
  &lt;div class=&quot;modal-background&quot; @click.self=&quot;$emit(&#39;close&#39;)&quot;&gt;
    &lt;div class=&quot;modal-container&quot;&gt;
      &lt;div class=&quot;modal-body&quot;&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-footer&quot;&gt;
        &lt;button @click=&quot;$emit(&#39;close&#39;)&quot;&gt;Close&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>

<p>The <code>modal-body</code> contains a <code>slot</code> component which acts as a placeholder for our content we passed along above. It will not be visible in the browser DOM and will be replaced with our content.</p>

<figure>
  <img width="75%" alt="Screenshot of Chrome Devtools Elements Tab" src="/assets/modal_dom-b6fc4f23cfa1828bca7b4724babb08041ba3cdf4ec05473f81a3263d584102bc.png" />
  <figcaption>Screenshot of Chrome Devtools Elements Tab</figcaption>
</figure>

<p>The <code>modal-background</code> class used to render a darkened overlay underneath the modal dialog. Additionally, it emits a <code>click</code> event to close the dialog. The <code>self</code> <a href="https://vuejs.org/v2/guide/events.html#Event-Modifiers">event modifier</a> is used to make sure the event is only emitted when clicking the background and not when clicking the modal dialog itself.</p>

<h2 id="named-slots">Named Slots</h2>

<p>In our previous example we used the “default slot” to pass along all content to our modal component. In the next example we improve the modal dialog component further by using “named slots” which enables users of the component to inject content in multiple places.</p>

<p>In order to become more flexible, we introduce named slots for the header, body and footer. Here is the definition of our markup:</p>

<div>
  <pre data-line=""><code class="language-markup">&lt;template id=&quot;template-modal&quot;&gt;
  &lt;div class=&quot;modal-background&quot; @click.self=&quot;$emit(&#39;close&#39;)&quot;&gt;
    &lt;div class=&quot;modal-container&quot;&gt;
      &lt;div class=&quot;modal-header&quot;&gt;
        &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-body&quot;&gt;
        &lt;slot name=&quot;body&quot;&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-footer&quot;&gt;
        &lt;slot name=&quot;footer&quot;&gt;
          &lt;button @click=&quot;$emit(&#39;close&#39;)&quot;&gt;Close&lt;/button&gt;
        &lt;/slot&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>

<p>Note the usage of the <code>name</code> attribute for each slot and how each <code>slot</code> is wrapped in another <code>div</code> element. The component has complete control of the styling by using specific CSS classes <code>modal-header</code>, <code>modal-body</code> and <code>modal-footer</code>. And the user of the component can focus on the content only.</p>

<p>The usage of these named slots is quite similar to the default slot:</p>

<div>
  <pre data-line=""><code class="language-markup">&lt;modal v-if=&quot;showModal&quot; @close=&quot;showModal = false&quot;&gt;
  &lt;h2 slot=&quot;header&quot;&gt;Modal Header&lt;/h2&gt;
  &lt;div slot=&quot;body&quot;&gt;Modal Body&lt;/div&gt;
&lt;/modal&gt;</code></pre>
</div>

<p>We can use whatever HTML element we want for our content and use the <code>slot</code> attribute to select the appropriate slot we want to use. This not only includes HTML elements but also other Vue.js components.</p>

<p>Note, that the <code>footer</code> slot is not used in this example. By default the existing slot content will be used. In our case the <code>footer</code> slot is defined like this:</p>

<div>
  <pre data-line=""><code class="language-markup">&lt;slot name=&quot;footer&quot;&gt;
  &lt;button @click=&quot;$emit(&#39;close&#39;)&quot;&gt;Close&lt;/button&gt;
&lt;/slot&gt;</code></pre>
</div>

<p>So, we still have our Close button as is.</p>

<h2 id="summary">Summary</h2>

<p>In this chapter we looked into slots and named slots to compose our components and content in a very flexible way. Stay tuned for my upcoming post on scoped slots!</p>

<p>If you like this post also check out my new course <a href="/vue-component-patterns-course.html">Vue.js Component Patterns Course</a>.</p>

  </div>

  <ul class="share-menu">
    <li>
      <a href="https://twitter.com/intent/tweet/?text=Checkout+this+article%3A+&url=http://127.0.0.1%2F2018%2F09%2F05%2Fvue-js-component-composition-with-slots.html&via=fdietz" target="_blank">
        <svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" class="svg-icon svg-icon-twitter">
          <path class="svg-icon-path" d="M10.8,3.5c0,0.1,0,0.2,0,0.3c0,3.3-2.5,7-7,7c-1.4,0-2.7-0.3-3.8-1c0.2,0,0.4,0,0.6,0c1.1,0,2.2-0.5,3.1-1.2 c-1.1,0-2-0.7-2.3-1.7c0.2,0,0.3,0,0.5,0s0.4,0,0.7-0.1c-1.1-0.2-2-1.2-2-2.4l0,0c0.3,0.2,0.7,0.3,1.1,0.3C1,4.3,0.6,3.5,0.6,2.7 c0-0.5,0.1-0.8,0.3-1.2c1.2,1.6,3,2.5,5,2.6c0-0.2-0.1-0.4-0.1-0.6c0-1.3,1.1-2.4,2.5-2.4c0.7,0,1.4,0.3,1.8,0.8 c0.6-0.1,1.1-0.3,1.6-0.6c-0.2,0.6-0.6,1.1-1.1,1.4c0.5-0.1,1-0.2,1.4-0.4C11.7,2.8,11.2,3.2,10.8,3.5z"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1%2F2018%2F09%2F05%2Fvue-js-component-composition-with-slots.html" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
        <svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" class="svg-icon svg-icon-facebook">
          <path class="svg-icon-path" d="M9.1,0.1V2H8C7.6,2,7.3,2.1,7.1,2.3C7,2.4,6.9,2.7,6.9,3v1.4H9L8.8,6.5H6.9V12H4.7V6.5H2.9V4.4h1.8V2.8 c0-0.9,0.3-1.6,0.7-2.1C6,0.2,6.6,0,7.5,0C8.2,0,8.7,0,9.1,0.1z"></path>
        </svg>
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://127.0.0.1%2F2018%2F09%2F05%2Fvue-js-component-composition-with-slots.html" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
        <svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" class="svg-icon svg-icon-google">
          <path class="svg-icon-path" d="M5.4,5.7c0,0.2,0.1,0.3,0.2,0.5c0.2,0.2,0.3,0.3,0.6,0.5s0.4,0.3,0.7,0.5C7,7.5,7.2,7.7,7.4,8 c0.2,0.3,0.2,0.6,0.2,1c0,0.4-0.1,0.8-0.3,1.2c-0.3,0.6-0.9,1-1.5,1.3S4.3,12,3.6,12c-0.6,0-1.2-0.1-1.8-0.3s-1-0.5-1.2-1 c-0.2-0.3-0.3-0.6-0.3-0.9c0-0.4,0.1-0.7,0.3-1.1c0.2-0.3,0.5-0.6,0.9-0.8c0.6-0.4,1.6-0.6,2.9-0.7C4.2,6.9,4.1,6.8,4,6.6 C4,6.4,3.9,6.3,3.9,6.1c0-0.2,0.1-0.4,0.2-0.6c-0.2,0-0.4,0-0.5,0c-0.7,0-1.3-0.2-1.8-0.7C1.3,4.3,1.1,3.7,1.1,3 c0-0.4,0.1-0.8,0.3-1.1S1.7,1.2,2,0.9c0.4-0.3,0.8-0.6,1.3-0.7C3.9,0.1,4.4,0,4.9,0h3l-1,0.6H6c0.4,0.3,0.6,0.6,0.8,1 s0.3,0.7,0.3,1.2c0,0.3-0.1,0.7-0.2,0.9C6.8,4,6.6,4.2,6.5,4.4C6.3,4.5,6.1,4.7,6,4.8C5.8,5,5.7,5.1,5.5,5.3 C5.4,5.4,5.4,5.6,5.4,5.7z M4.3,11.3c0.3,0,0.5,0,0.8-0.1c0.3-0.1,0.5-0.2,0.7-0.3c0.2-0.1,0.4-0.3,0.5-0.5c0.1-0.2,0.2-0.5,0.2-0.8 c0-0.1,0-0.2-0.1-0.4S6.5,9.1,6.4,9c0-0.1-0.1-0.2-0.2-0.3C6.1,8.6,6.1,8.5,6,8.4c0-0.1-0.1-0.1-0.3-0.2C5.6,8.1,5.5,8,5.5,8 c0,0-0.1-0.1-0.3-0.2C5,7.7,4.9,7.6,4.9,7.6c-0.1,0-0.2,0-0.3,0c-0.3,0-0.5,0-0.8,0.1S3.3,7.7,3,7.8C2.8,7.9,2.5,8,2.3,8.1 C2.1,8.3,2,8.4,1.8,8.7C1.7,8.9,1.6,9.1,1.6,9.4c0,0.3,0.1,0.6,0.3,0.9c0.2,0.3,0.4,0.5,0.7,0.6c0.3,0.1,0.6,0.2,0.9,0.3 S4,11.3,4.3,11.3z M4.3,5c0.2,0,0.4,0,0.6-0.1c0.2-0.1,0.3-0.2,0.5-0.3C5.6,4.3,5.7,4,5.7,3.5c0-0.3,0-0.6-0.1-0.9 C5.5,2.2,5.4,1.9,5.3,1.6C5.1,1.3,4.9,1.1,4.7,0.9S4.1,0.6,3.8,0.6c-0.2,0-0.4,0-0.6,0.1C3,0.8,2.9,1,2.7,1.1 C2.5,1.4,2.4,1.8,2.4,2.3c0,0.2,0,0.5,0.1,0.7c0,0.2,0.1,0.5,0.2,0.7C2.8,4,2.9,4.2,3.1,4.4c0.1,0.2,0.3,0.4,0.5,0.5 C3.8,5,4.1,5,4.3,5z M10.2,5h1.5v0.8h-1.5v1.6H9.4V5.8H7.9V5h1.5V3.5h0.8V5z"></path>
        </svg>
      </a>
    </li>
  </ul>
</div>

<!--
<div class="related-posts">
  <h3>Related Posts</h3>
  <ul class="posts">
    
      <li>
        <a href="/2018/09/13/vue-js-component-composition-with-scoped-slots.html">Vue.js Component Composition with Scoped Slots</a>
        <span class="date">13 Sep 2018</span>
      </li>
    
      <li>
        <a href="/2018/08/23/introduction-to-vue-js-components.html">Introduction to Components with Vue.js</a>
        <span class="date">23 Aug 2018</span>
      </li>
    
      <li>
        <a href="/2018/08/16/published-vue-js-component-patterns-course.html">Published Vue.js Component Patterns Course</a>
        <span class="date">16 Aug 2018</span>
      </li>
    
  </ul>
</div>
-->


    <footer>
      Copyright 2018 Frederik Dietz
      |
      <a href="http://feeds.feedburner.com/fdietz"> RSS </a>
      |
      <a href="http://twitter.com/fdietz/">@fdietz</a>
    </footer>

    <script src="/assets/application-d4378cd6e29b71700aea7f8091bc6235159c3b312fcb6b20a9e872e40b6c7521.js" type="text/javascript"></script>

    <!-- Google Analytics -->
    <script>
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script>
    var pageTracker = _gat._getTracker("UA-24857075-1");
    pageTracker._trackPageview();
    </script>
    <!-- Google Analytics end -->

    <!--[if lt IE 7 ]>
    	<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.2/CFInstall.min.js"></script>
    	<script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script>
    <![endif]-->

  </body>
</html>
